<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æƒ…äººèŠ‚é™å®šå¡æ± </title>
<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    overflow: hidden;
    font-family: "Microsoft YaHei", sans-serif;
}
body {
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #ff6a88, #ff99ac);
}
.card {
    background: rgba(255,255,255,0.95);
    border-radius: 20px;
    padding: 25px 20px;
    width: 90vw;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 15px 30px rgba(0,0,0,0.25);
    animation: pop 0.6s ease;
}
@keyframes pop { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
h1 {
    margin: 0 0 15px;
    font-size: 22px;
    line-height: 1.2;
}
input {
    width: 90%;
    padding: 16px;
    font-size: 18px;
    border-radius: 12px;
    border: 1px solid #ccc;
    outline: none;
    margin-bottom: 12px;
}
button {
    margin-top: 12px;
    padding: 16px 30px;
    font-size: 18px;
    border: none;
    border-radius: 30px;
    background: #ff4d6d;
    color: white;
    cursor: pointer;
    width: 70%;
    max-width: 220px;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}
button:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(255,77,109,0.6);
}
.result {
    margin-top: 20px;
    font-size: 18px;
    min-height: 60px;
    word-break: break-word;
}
.ssr {
    color: #ff2e63;
    font-weight: bold;
    animation: glow 1s infinite alternate;
}
@keyframes glow { from { text-shadow: 0 0 5px #ff2e63; } to { text-shadow: 0 0 20px #ff2e63; } }
.emoji {
    position: absolute;
    font-size: 24px;
    animation: float 4s linear infinite;
    opacity: 0.8;
}
@keyframes float { from { transform: translateY(100vh); } to { transform: translateY(-10vh); } }
.confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #fff;
    pointer-events: none;
    opacity: 0.8;
}
.fullscreen-red {
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    background: red;
    color: white;
    font-size: 28px;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}
@media (max-width: 500px) {
    h1 { font-size: 20px; }
    input { font-size: 16px; padding: 14px; }
    button { font-size: 16px; padding: 14px 25px; }
    .result { font-size: 16px; }
}
</style>
</head>
<body>

<div class="card">
    <h1>ğŸ‰â¤ï¸ æƒ…äººèŠ‚é™å®šå¡æ±  â¤ï¸ğŸ‰</h1>
    <input id="nameInput" placeholder="è¾“å…¥åå­—">
    <br>
    <button onclick="draw()">ğŸ° å¼€å§‹æŠ½å–</button>
    <div class="result" id="result">ç­‰å¾…æŠ½å–ä¸­â€¦â€¦</div>
</div>

<script>
const pool = [
    ["æ»šä½ å¦ˆçš„", 10], ["å»ä½ å¦ˆçš„", 10], ["ä½ ä¹Ÿé…ï¼Ÿ", 10], ["å‚»é€¼äºŒæ¬¡å…ƒ", 10], ["ç™”ç—‡åˆçŠ¯äº†ï¼Ÿ", 10],
    ["æ­»ç”·åŒçœŸæ¶å¿ƒ", 5], ["ç°åœ¨æ˜¯å¹»æƒ³æ—¶åˆ»", 5], ["æŸšå­å¨æ»šå‡ºå»", 5], ["è¿™æ˜¯æœ€åé€šç‰’", 5],
    ["ä»¥åä¸è¦å†å’Œæˆ‘æ‰¯ä¸Šå…³ç³»", 5], ["è¢«æ‹‰é»‘+å±è”½", 5], ["å°ç”·å¨˜", 5], ["éšæœºçš„ç½‘å›¾", 2.5],
    ["éšæœºçš„è´´å§åœ£ç»", 2.5], ["ä¸‹æ¬¡å†è¯´å§", 2.5], ["ä½ æ˜¯ä¸ªå¥½äºº", 2.5], ["æˆ‘ä¸€ç›´æŠŠä½ å½“å¥½æœ‹å‹", 2.5],
    ["æ»šå‡ºå»", 2.49], ["å¥½å‘€å®å® â¤ï¸ï¼ˆSSRï¼‰", 0.01], ["å…¶å®æˆ‘ä¹Ÿå–œæ¬¢ä½ å¥½ä¹…äº† ğŸ’–ï¼ˆéšè—æ¬¾ï¼‰", 0.001]
];

function drawWeighted(pool) {
    const total = pool.reduce((s, i) => s + i[1], 0);
    let r = Math.random() * total;
    for (const [text, weight] of pool) { if ((r -= weight) <= 0) return text; }
}

function draw() {
    const name = document.getElementById("nameInput").value.trim();
    const resultDiv = document.getElementById("result");
    if (!name) { resultDiv.innerText = "âš ï¸ è¯·è¾“å…¥åå­—"; return; }
    const res = drawWeighted(pool);

    if (res.includes("SSR") || res.includes("éšè—")) {
        resultDiv.innerHTML = `ğŸ‰ ${name}<br><span class="ssr">${res}</span>`;
        spawnEmoji("ğŸ’–");
        spawnEmoji("âœ¨");
        spawnConfetti();
    } else if (res.includes("è¢«æ‹‰é»‘")) {
        showRedScreen(name, res);
    } else {
        resultDiv.innerText = `ğŸ ${name}\n${res}`;
    }
}

function spawnEmoji(char) {
    for (let i=0;i<20;i++){
        const e=document.createElement("div");
        e.className="emoji";
        e.innerText=char;
        e.style.left=Math.random()*100+"vw";
        e.style.animationDuration=(2+Math.random()*3)+"s";
        document.body.appendChild(e);
        setTimeout(()=>e.remove(),4000);
    }
}

function spawnConfetti() {
    const colors = ["#ff4d6d","#ffcd56","#4dffb8","#6a5aff"];
    for(let i=0;i<50;i++){
        const c=document.createElement("div");
        c.className="confetti";
        c.style.left=Math.random()*100+"vw";
        c.style.top="-10px";
        c.style.background=colors[Math.floor(Math.random()*colors.length)];
        c.style.width=(5+Math.random()*5)+"px";
        c.style.height=(5+Math.random()*5)+"px";
        document.body.appendChild(c);
        let fall = setInterval(()=>{
            c.style.top=(parseFloat(c.style.top)+Math.random()*10)+"px";
            c.style.transform="rotate("+Math.random()*360+"deg)";
            if(parseFloat(c.style.top)>window.innerHeight){ c.remove(); clearInterval(fall);}
        },30);
    }
}

function showRedScreen(name,res){
    const red = document.createElement("div");
    red.className="fullscreen-red";
    red.innerText=`${name} æŠ½åˆ° ${res}ï¼`;
    document.body.appendChild(red);
    setTimeout(()=>red.remove(),3000);
}
</script>

</body>
</html>
